<%# Uses rails_bootstrap_form gem. API at: https://github.com/bootstrap-ruby/rails-bootstrap-forms %>

<%= bootstrap_form_for(workflow, layout: :horizontal) do |f| %>
    <%= f.alert_message t('jobcomposer.options_errors') %>

    <%= f.text_field :name, label: "Job Name" %>
    <%= f.select :batch_host, OODClusters.map { |cluster| [ "#{cluster.metadata.title}", cluster.id ] }, { selected: @workflow.batch_host, label: t('jobcomposer.options_cluster_title') }, { class: "selectpicker" } %>

    <%# select in bootstrap_form?@%>

    <%= f.select :script_path, grouped_options_for_select(workflow.grouped_script_options, workflow.script_path), { label: "Job Script", help: t('jobcomposer.options_script_help') }, { class: "selectpicker", id: "workflow_script_path" }  %>

    <%= render partial: "edit_form_job_attrs", locals: { f: f } %>

    <%= f.submit 'Save', class: 'btn btn-primary' %>
    <%= f.button 'Reset', type: :reset, class: 'btn btn-default' %>

    <%= link_to 'Back', workflows_path, class: 'btn btn-default' %>
<% end %>

<table class="table table-striped table-condensed" id="directory-contents" style="width:100%">
  <thead>
  <tr>
    <th><span class="sr-only">Select</span></th>
    <th>Type</th>
    <th>Name</th>
    <th><span class="sr-only">Actions</span></th>
    <th>Size</th>
    <th>Modified at</th>
    <th>Owner</th>
    <th>Mode</th>
  </tr>
  </thead>
  <tbody>
  </tbody>
</table>
<%= render partial: "files/_inline_js" %>
